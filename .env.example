# .env.example for StaffAI Bot
# Copy to .env and fill in your values
# For production: Use Docker secrets for DISCORD_BOT_TOKEN and LITELLM_API_KEY

# ================================
# DISCORD
# ================================
DISCORD_BOT_TOKEN=your_discord_bot_token_here

# ================================
# LOGGING
# ================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ================================
# LITELLM CONFIGURATION
# ================================
LITELLM_API_URL=http://localhost:4000      # Your LiteLLM proxy URL
LITELLM_MODEL=gpt-4o-mini                  # Primary model for conversations & activities
# LITELLM_MODELS=gpt-4o-mini,claude-3-5-sonnet-20241022,gemini-2.0-flash-exp  # Optional: comma-separated list for multi-model support
LITELLM_API_KEY=sk-1234                    # API key (use Docker secret in production: /run/secrets/litellm_api_key)

# ================================
# MCP SERVERS (OPTIONAL)
# ================================
MCP_SERVERS=                               # Comma-separated MCP server URLs
                                          # Example: http://mcp-fs:8000,http://mcp-web:8001

# ================================
# BOT BEHAVIOR
# ================================
RESPONSE_CHANCE=0.05                       # Random response probability (0.0-1.0)
RANDOM_RESPONSE_DELIVERY_CHANCE=0.3        # Secondary filter for random responses
MAX_HISTORY_PER_USER=20                    # Max messages in context per user/channel

# ================================
# CONTEXT DECAY (SECONDS)
# ================================
CONTEXT_HISTORY_TTL_SECONDS=1800           # Conversation history TTL (30 min, 0=never)
CONTEXT_MESSAGE_MAX_AGE_SECONDS=1800       # Individual message max age (30 min, 0=no limit)

# ================================
# REDIS
# ================================
REDIS_HOST=localhost                       # Use 'redis' for docker-compose
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=                          # Uncomment if Redis requires auth

# ================================
# RATE LIMITING
# ================================
RATE_LIMIT_COUNT=15                        # Max messages per user per window
RATE_LIMIT_WINDOW_SECONDS=60               # Window duration (seconds)
TOKEN_RATE_LIMIT_COUNT=20000               # Max LLM tokens per user per window

# ================================
# RESTRICTION SYSTEM
# ================================
RESTRICTED_USER_ROLE_ID=                   # Role ID assigned when limits exceeded
RESTRICTED_CHANNEL_ID=                     # Channel where restricted users can interact
RESTRICTION_DURATION_SECONDS=86400         # Restriction duration (24 hours)
RESTRICTION_CHECK_INTERVAL_SECONDS=300     # Check interval (5 minutes)

# Notification message templates (use <#{channel_id}> placeholder)
RATE_LIMIT_MESSAGE_USER="You've sent messages too frequently. Please use <#{channel_id}> for bot interactions."
RESTRICTED_CHANNEL_MESSAGE_USER="As a restricted user, please use <#{channel_id}> for bot interactions."

# ================================
# ROLE-BASED ACCESS CONTROL
# ================================
SUPER_ROLE_IDS=                            # Comma-separated role IDs that bypass rate limits and access admin commands
IGNORED_ROLE_IDS=                          # Comma-separated role IDs the bot ignores

# ================================
# ACTIVITY/PRESENCE
# ================================
ACTIVITY_UPDATE_INTERVAL_SECONDS=300       # Status update frequency (5 min)
ACTIVITY_SCHEDULE_ENABLED=False            # Enable time-based scheduling
ACTIVITY_ACTIVE_START_HOUR_UTC=0           # Active hours start (UTC)
ACTIVITY_ACTIVE_END_HOUR_UTC=23            # Active hours end (UTC)
ACTIVITY_ACTIVE_DAYS_UTC=0,1,2,3,4,5,6     # Active days (0=Mon, 6=Sun)

# ================================
# PROMPT FILES (ADVANCED)
# ================================
# The bot uses TWO system prompts:
# 1. Conversation Prompt: utils/prompts/personality_prompt.txt (hardcoded in main.py)
#    - Defines bot personality and response format for conversations
# 2. Activity Prompt: utils/prompts/base_activity_system_prompt.txt (configurable below)
#    - Generates bot's Discord presence/activity status
BASE_ACTIVITY_SYSTEM_PROMPT_PATH=utils/prompts/base_activity_system_prompt.txt

# ================================
# TOKEN CONSUMPTION STATS & REPORTING
# ================================
STATS_REPORT_CHANNEL_ID=                   # Channel ID for automated token usage reports
STATS_REPORT_INTERVAL_SECONDS=86400        # Report frequency (24 hours default)
STATS_REPORT_TOP_USERS=10                  # Number of top users to show in reports
